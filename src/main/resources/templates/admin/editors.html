<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="ThemeBucket">
  <link rel="shortcut icon" href="#" type="image/png">

  <title>单选题创编</title>

  <link rel="stylesheet" type="text/css" href="/js/bootstrap-wysihtml5/bootstrap-wysihtml5.css" />
  <link href="/css/style.css" rel="stylesheet">
  <link href="/css/style-responsive.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>

<body class="sticky-header">

<section>

    <!--左侧开始-->
    <div th:replace="~{/admin/commons/common :: commonleft}"></div>
    <!--左侧结束-->

    <!-- main content start-->
    <div class="main-content" >

        <!--头部开始-->
        <div th:replace="~{/admin/commons/common :: commonheader}"></div>
        <!--头部结束-->

        <!--当前位置介绍开始-->
        <div class="page-heading">
            <h3>
                单选题创编
            </h3>
            <ul class="breadcrumb">
                <li>
                    <a href="#">题库管理</a>
                </li>
                <li class="active"> 单选题创建 </li>
            </ul>
        </div>
        <!-- 当前位置介绍结束-->

        <div class="wrapper">
            <div class="mail-box">

                <section class="mail-box-info">
                    <header class="header">
                        <div class="btn-toolbar">
                            <h4 class="pull-left">
                                单选题创建中......
                            </h4>
                        </div>

                    </header>

                    <section class="mail-list">
                        <div class="compose-mail">
                            <form role="form-horizontal" method="post">
                                <div class="form-group">
                                    <label for="to" class="">To:</label>
                                    <input type="text" tabindex="1" id="to" class="form-control">
<!--                                    <div class="compose-options">-->
<!--                                        <a onclick="$(this).hide(); $('#cc').parent().removeClass('hidden'); $('#cc').focus();" href="javascript:;">Cc</a>-->
<!--                                        <a onclick="$(this).hide(); $('#bcc').parent().removeClass('hidden'); $('#bcc').focus();" href="javascript:;">Bcc</a>-->
<!--                                    </div>-->
                                </div>

                                <div class="form-group hidden">
                                    <label for="cc" class="0">Cc:</label>
                                    <input type="text" tabindex="2" id="cc" class="form-control">
                                </div>

                                <div class="form-group hidden">
                                    <label for="bcc" class="">Bcc:</label>
                                    <input type="text" tabindex="2" id="bcc" class="form-control">
                                </div>

                                <div class="form-group">
                                    <label for="subject" class="">Subject:</label>
                                    <input type="text" tabindex="1" id="subject" class="form-control">
                                </div>

                                <!--onclick函数，当管理员点击题干表单时题干表单设置不可见，显示富文本编辑器，-->
                                <div class="form-group">
                                    <label for="textarea" class="">题干:</label>
                                    <input type="text" tabindex="1" id="subject2" class="form-control"
                                           onclick="$(this).parent().addClass('hidden');//当前表单设置不可见
                                           $('#textarea').parent().removeClass('hidden');//富文本编辑器设置可见
                                           $('#textarea-button').removeClass('hidden');//富文本编辑器按钮设置可见
                                           $('#textarea').focus();"
                                    >
                                </div>
                                &nbsp;
                                <!--富文本编辑器开始，包括按钮-->
                                <div class="compose-editor hidden">
                                    <textarea id="textarea" class="wysihtml5 form-control" rows="5" th:text="请在此输入题干"></textarea>
                                </div>
                                <div class="compose-btn hidden" id="textarea-button">
                                    <button type="button" class="btn btn-primary btn-sm"
                                            onclick="$('#subject2').attr('value',$('#textarea').val());//设置题干的文本内容为富文本编辑器的内容
                                            $('#textarea').parent().addClass('hidden');//设置文本编辑器不可见，
                                            $('#textarea-button').addClass('hidden');//设置按钮不可见，设置题干可见
                                            $('#subject2').parent().removeClass('hidden')"
                                    ><i class="fa fa-check"></i> 确定</button>
                                    <button class="btn btn-sm btn-default"><i class="fa fa-times"></i> 取消</button>
                                </div>
                                <!--富文本编辑器结束-->
                                <div id="p">
                                <div class="form-group">
                                    <label for="subject" class="a">A</label>
                                    <input type="text" tabindex="1" id="A" class="form-control" name="A">
                                </div>

                                <div class="form-group">
                                    <label for="subject" class="a">B</label>
                                    <input type="text" tabindex="1" id="B" class="form-control" name="B">
                                </div>

                                <div class="form-group" id="cloneForm">
                                    <label for="subject" class="a" >C</label>
                                    <input type="text" tabindex="1"  class="form-control" name="C">
                                </div>

                                <div class="form-group" >
                                    <label for="subject" class="a" >D</label>
                                    <input type="text" tabindex="1" id="D"  class="form-control" name="D">
                                </div>

                                </div>



                                &nbsp;
                                <div class="form-group">
                                    <label for="bcc" class="">解析</label>
                                    <input type="text" tabindex="2" id="Answer" class="form-control">
                                </div>
                                &nbsp;
<!--                                分数开始-->
                                <div class="form-group">

                                    <div id="spinner4">
                                        <label for="subject" class="">分数</label>
                                        <div class="input-group" style="width:150px;">
                                            <div class="spinner-buttons input-group-btn">
                                                <button type="button" class="btn spinner-up btn-primary">
                                                    <i class="fa fa-plus"></i>
                                                </button>
                                            </div>
                                            <input type="text" class="spinner-input form-control" maxlength="3" readonly="">
                                            <div class="spinner-buttons input-group-btn">
                                                <button type="button" class="btn spinner-down btn-warning">
                                                    <i class="fa fa-minus"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
<!--                                分数结束-->
                                <div class="compose-btn">
                                    &nbsp;
                                    <button type="button" class="btn btn-primary btn-sm"><i class="fa fa-check"></i> 完成</button>
                                    <button type="button" class="btn btn-sm btn-default"><i class="fa fa-rotate-right"></i> 重置</button>
                                    <button type="button" class="btn btn-sm btn-default"
                                    onclick="addForm()"><i class="fa fa-plus"></i>添加选项</button>
                                    <button type="button" class="btn btn-sm btn-default"
                                    onclick="reduceForm()"><i class="fa fa-minus"></i>减少选项</button>
                                </div>
                                &nbsp;
                            </form>
                            &nbsp;
                            <!--提示开始-->
                            <div class="alert alert-warning fade in hidden" id="tip1">
                                <button type="button" class="close close-sm" data-dismiss="alert">
                                    <i class="fa fa-times"></i>
                                </button>
                                <strong>提示!</strong> 最多10个选项
                            </div>
                            <!--提示结束-->
                            <!--提示开始-->
                            <div class="alert alert-warning fade in hidden" id="tip2">
                                <button type="button" class="close close-sm" data-dismiss="alert">
                                    <i class="fa fa-times"></i>
                                </button>
                                <strong>提示!</strong> 最少3个选项
                            </div>
                            <!--提示结束-->
                        </div>
                    </section>


                </section>
            </div>

        </div>
        <!--footer section start-->
        <footer>
            2014 &copy; AdminEx by ThemeBucket
        </footer>
        <!--footer section end-->


    </div>
    <!-- main content end-->
</section>

<!-- Placed js at the end of the document so the pages load faster -->
<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="/js/jquery-migrate-1.2.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/modernizr.min.js"></script>
<script src="/js/jquery.nicescroll.js"></script>

<script type="text/javascript" src="/js/ckeditor/ckeditor.js"></script>

<script type="text/javascript" src="/js/bootstrap-wysihtml5/wysihtml5-0.3.0.js"></script>
<script type="text/javascript" src="/js/bootstrap-wysihtml5/bootstrap-wysihtml5.js"></script>

<!--common scripts for all pages-->
<script src="/js/scripts.js"></script>

<script>
    document.getElementById("single-choice").className="active";
    document.getElementById("menu4").className="menu-list nav-active";
    // 增加form表单
    function addForm() {
        var arr1 = ['D','E', 'F', 'G', 'H','I','J'];
        //通过类获取选项的个数
         var num = document.getElementsByClassName('a').length
        //设置选项数目最多不能大于10个选项
        if(num<10){
            // alert(document.getElementsByClassName('a').length)
            //获取要克隆的节点
            var cloneFrom = document.getElementById('cloneForm')
            //他的属性全部会被克隆
            var clone = document.getElementById('cloneForm').cloneNode(true)
            //设置选项name属性，label标签的文本内容通过动态获取jquery的id设置的
            clone.childNodes[1].innerHTML = arr1[num-3]
            clone.childNodes[3].id=arr1[num-3]
            // alert(clone.childNodes[1].innerHTML)
            //获取父节点，用来将子节点追加到其后
            var p = document.getElementById('p')
            p.appendChild(clone)
            //最后在修改name属性（放在前面不生效，巨坑）
            $("#"+arr1[num-3]+"").attr('name',arr1[num-3])
        }
        //大于十个选项设置提示
        else{
            $('#tip1').removeClass('hidden')
        }
    }
    function reduceForm(){
        $('#tip1').addClass('hidden')
        var arr1 = ['D','E', 'F', 'G', 'H','I','J'];
        var num = document.getElementsByClassName('a').length
        if(num<4){
            $('#tip2').removeClass('hidden')
        }
        else{
           var d =  document.getElementsByName(arr1[num-4])[0]
            var dp=d.parentNode
            dp.remove()
        }
    }


    jQuery(document).ready(function(){
         $('.wysihtml5').wysihtml5();
    });

</script>

</body>
</html>
