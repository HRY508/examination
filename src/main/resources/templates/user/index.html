<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="ThemeBucket">
  <link rel="shortcut icon" href="#" type="image/png">

  <title>在线考试系统</title>

  <link href="/css/style.css" rel="stylesheet">
  <link href="/css/style-responsive.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>

<body class="horizontal-menu-page">

<section>

    <div th:replace="~{/user/commons/common :: commonhead(active='index.html')}"></div>
    <!--正文开始-->
    <div class="wrapper">
        <div class="col-md-12">
            <!--考试/公告开始-->
            <div class="col-md-8">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            统计图
                        </div>
                            <div id="pie-chart-donut" class="pie-chart">
                                <div id="pie-donutContainer" style="width: 100%;height:400px; text-align: left;">
                                </div>
                            </div>
                    </div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        考试/通告
                    </div>
                    <div class="panel-body" th:each="p : ${paper}">
                        <input class="hidden" th:value="${p.pId}">
                        <td>
                            <a th:text="${p.pName}" href="javascript:;" th:onclick="goExam([[${p.pId}]],[[${p.pName}]],[[${p.pStatus}]],[[${p.startTime}]],[[${p.endTime}]])" style="color: #65CEA7;"></a>
                        </td>
                        <td>
                            <span style="float: right" th:if="${p.pStatus}==0" th:text="未开始" class="label label-info"></span>
                            <span style="float: right"  th:if="${p.pStatus}==1" th:text="进行中" class="label label-primary"></span>
                            <span style="float: right"  th:if="${p.pStatus}==2" th:text="已结束" class="label label-danger"></span>
                        </td>
                        <td class="hidden" th:value="${#temporals.format(p.startTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
                        <td class="hidden"  th:value="${#temporals.format(p.endTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    </div>
                </div>
            </div>
            <!--统计开始-->
            <div class="col-md-4">
                <div class="col-md-12">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h3 class="panel-title">统计</h3>
                        </div>
                        <div class="panel-body">
                            内容
                        </div>
                    </div>
                </div>
                <!--排名开始-->
                <div class="col-md-12">
                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h3 class="panel-title">排名</h3>
                        </div>
                        <div class="panel-body">
                            内容
                        </div>
                    </div>
                </div>
                <!--排名结束-->
            </div>
            <!--统计结束-->



            <!--考试/公告结束-->
        </div>

    </div>
    <!--正文结束-->

    <!--底部开始-->
    <footer class="sticky-footer">
        2022 &copy;<a href="https://www.pdsu.edu.cn/" target="_blank">平顶山学院软件应用双创实验室提供技术支持</a>
    </footer>
    <!--底部结束-->

</section>


<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="/js/jquery-migrate-1.2.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/modernizr.min.js"></script>
<script src="/js/jquery.nicescroll.js"></script>
<!--图表-->


<script src="/js/scripts.js"></script>

<script type="text/javascript">

    function isStartTime(pid,pName,pStatus,startTime,endTime) {
    var start = new Date(startTime).getTime();
    var end = new Date(endTime).getTime();
    var str = new Date().getTime();

    if (pStatus > 1) {
        alert("考试已经结束！")
    }else{
        if(start <= str && str <= end){
            if (confirm("是否要进入"+pName+"")) {
                window.location.href = "/user/paper/paperDetail?pid=" + pid;
            }else{
                return
            }
        }else if (start > str){
            alert("还没有到指定时间,请稍后重试!")
        }else if (str > end){
            alert("考试时间已过！")
        }
    }
}
</script>

</body>
</html>
